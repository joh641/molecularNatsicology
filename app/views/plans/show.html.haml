.left-column-container.column.col-md-3
  .search-bar-container.left-container>
    %h2 Add Course
    = form_tag add_course_plan_path(@plan), :method => :put, :id => 'search_form' do
      .search-input-container.input-group
        %input{:class => 'form-control search-bar', :type => 'text', :placeholder => 'Type course name...', :name => 'course_name'}
        %span{:class =>"input-group-btn"}>
          = submit_tag 'Add', :class => "btn btn-default search-submit"
.right-column-container.column.container.col-md-8
  %h2= "Plan: #{@plan.name}"
  %h3 Courses
  %table.table
    %thead
      %tr
        %th Name
        %th Units
        %th Action
    .body
      - @plan.courses.each do |course|
        %tr
          %td= link_to course.name, course_path(course)
          %td= course.units
          %td= button_to "Remove Course", remove_course_plan_path(:id => @plan.id, :course_name => course.name), :method => :delete
  
  - if @plan.courses.length > 0
    %h3 Rules
    %table.table
      %thead
        %tr
          %th Rule
          %th Description
          %th Result
          %th Fulfilling Set
      .body
        - @rules.keys.each do |rule|
          - next if Rule.base.include? rule
          %tr
            %td= link_to rule, display_rules_path(:rule => rule)
            %td= Rule.get(rule).description
            - result = Rule.get(rule).check_print @plan, nil
            %td= result[0]
            %td
              - result[1].courses.each do |course|
                = link_to course.name, course_path(course)