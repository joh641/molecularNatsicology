%div(ng-controller="CourseListCtrl")
  .left-column-container.column.col-md-3
    .search-bar-container.left-container>
      %h2 Search
      / = form_tag courses_path, :method => :get, :id => 'search_form' do
      .search-input-container.input-group
        <input ng-model="query" class="form-control search-bar" type="text", placeholder="Search for a course..." name= "search_query" value="#{session[:search_query]}">
        / %span{:class =>"input-group-btn"}>
        /   = submit_tag 'Go', :class => "btn btn-default search-submit"
  .right-column-container.column.container.col-md-8
    %h2 Courses
    %table.table
      %thead
        %tr
          %th Name
          %th Units

      .body
        %div(infinite-scroll="addMoreCourses()" infinite-scroll-distance="3")
          %tr(ng-repeat="course in displayedCourses" ng-show="([course.name] | filter:query).length")
            %td <a href="/courses/{{course.id}}">{{course.name}}</a>
            %td {{course.units}}